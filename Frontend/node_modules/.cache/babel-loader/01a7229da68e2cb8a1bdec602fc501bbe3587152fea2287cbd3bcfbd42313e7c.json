{"ast":null,"code":"var _jsxFileName = \"E:\\\\COSWO\\\\Frontend\\\\src\\\\Pages\\\\CreateDonation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport apiClient from \"../api/apiClient\";\nimport { AuthContext } from \"../context/authContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createPageUrl } from \"../utils/utils\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../Components/ui/card\";\nimport { Input } from \"../Components/ui/input\";\nimport { Button } from \"../Components/ui/button\";\nimport { Label } from \"../Components/ui/label\";\nimport { Textarea } from \"../Components/ui/textarea\";\nimport { Select, SelectItem } from \"../Components/ui/select\";\nimport { Plus, Trash2, Gift, Loader2 } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateDonation() {\n  _s();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [formData, setFormData] = useState({\n    receiver_id: \"\",\n    donation_type: \"food\",\n    amount: \"\",\n    items: [{\n      name: \"\",\n      quantity: 1,\n      category: \"food\"\n    }],\n    delivery_notes: \"\",\n    scheduled_delivery: \"\"\n  });\n\n  // NEW: Fetch verified receivers from your backend\n  const {\n    data: verifiedReceivers = []\n  } = useQuery({\n    queryKey: ['verifiedReceivers'],\n    queryFn: async () => {\n      const {\n        data\n      } = await apiClient.get('/receivers/verified');\n      return data;\n    }\n  });\n\n  // NEW: Use a mutation that calls your local backend\n  const [feedback, setFeedback] = useState({\n    type: '',\n    message: ''\n  });\n  const createDonationMutation = useMutation({\n    mutationFn: donationData => apiClient.post('/donations', donationData),\n    onMutate: () => {\n      setFeedback({\n        type: 'info',\n        message: 'Submitting donation…'\n      });\n    },\n    onSuccess: data => {\n      queryClient.invalidateQueries({\n        queryKey: ['donorDashboard']\n      });\n      setFeedback({\n        type: 'success',\n        message: 'Donation created successfully!'\n      });\n      setTimeout(() => {\n        setFeedback({\n          type: '',\n          message: ''\n        });\n        navigate(createPageUrl(\"DonorDashboard\"), {\n          state: {\n            flash: {\n              type: 'success',\n              message: 'Donation created successfully!'\n            }\n          },\n          replace: true\n        });\n      }, 800);\n    },\n    onError: error => {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      let msg = 'Could not create donation.';\n      if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.msg) msg = error.response.data.msg;else if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.error) msg = error.response.data.error;\n      setFeedback({\n        type: 'error',\n        message: `Error: ${msg}`\n      });\n    }\n  });\n  const handleAddItem = () => setFormData(prev => ({\n    ...prev,\n    items: [...prev.items, {\n      name: \"\",\n      quantity: 1,\n      category: \"food\"\n    }]\n  }));\n  const handleRemoveItem = index => setFormData(prev => ({\n    ...prev,\n    items: prev.items.filter((_, i) => i !== index)\n  }));\n  const handleItemChange = (index, field, value) => {\n    const newItems = formData.items.map((item, i) => i === index ? {\n      ...item,\n      [field]: value\n    } : item);\n    setFormData(prev => ({\n      ...prev,\n      items: newItems\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('[CreateDonation] Submit clicked', {\n      user,\n      formData\n    });\n    // Fallback immediate UX feedback\n    setFeedback({\n      type: 'info',\n      message: 'Submitting donation…'\n    });\n    if (!user) {\n      setFeedback({\n        type: 'error',\n        message: 'You must be logged in to donate.'\n      });\n      return;\n    }\n    if (!formData.receiver_id) {\n      setFeedback({\n        type: 'error',\n        message: 'Please select a receiver.'\n      });\n      return;\n    }\n    const finalData = {\n      ...formData,\n      amount: formData.amount ? parseFloat(formData.amount) : null,\n      items: formData.donation_type !== \"funds\" ? formData.items.filter(item => item.name) : []\n    };\n    console.log('[CreateDonation] Mutating with payload', finalData);\n    createDonationMutation.mutate(finalData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen p-6 bg-gradient-to-br from-blue-50 via-white to-orange-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"backdrop-blur-sm bg-white/80 border-gray-200/80 shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"flex items-center gap-3 text-3xl\",\n            children: [/*#__PURE__*/_jsxDEV(Gift, {\n              className: \"w-8 h-8 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), \"Create a New Donation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [feedback.message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mb-4 p-3 rounded-lg text-sm font-medium ${feedback.type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n            children: feedback.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-8\",\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"receiver\",\n                  children: \"Select Receiver\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  id: \"receiver\",\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    receiver_id: e.target.value\n                  })),\n                  value: formData.receiver_id,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: \"Choose a verified receiver...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 21\n                  }, this), verifiedReceivers.map(r => /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: r._id,\n                    children: [r.full_name, \" - \", r.address]\n                  }, r._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"donation_type\",\n                  children: \"Donation Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  id: \"donation_type\",\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    donation_type: e.target.value\n                  })),\n                  value: formData.donation_type,\n                  children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"food\",\n                    children: \"Food\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"clothing\",\n                    children: \"Clothing\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"funds\",\n                    children: \"Funds\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n                    value: \"other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), formData.donation_type === 'funds' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"amount\",\n                children: \"Amount ($)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"amount\",\n                type: \"number\",\n                placeholder: \"e.g., 50.00\",\n                value: formData.amount,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  amount: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                children: \"Items to Donate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), formData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-end gap-4 p-4 bg-gray-50 rounded-lg border\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-3 gap-4 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: `item-name-${index}`,\n                      className: \"text-sm\",\n                      children: \"Item Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: `item-name-${index}`,\n                      value: item.name,\n                      onChange: e => handleItemChange(index, 'name', e.target.value),\n                      placeholder: \"e.g., Rice Bag\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: `item-quantity-${index}`,\n                      className: \"text-sm\",\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: `item-quantity-${index}`,\n                      type: \"number\",\n                      value: item.quantity,\n                      onChange: e => handleItemChange(index, 'quantity', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      htmlFor: `item-category-${index}`,\n                      className: \"text-sm\",\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Input, {\n                      id: `item-category-${index}`,\n                      value: item.category,\n                      onChange: e => handleItemChange(index, 'category', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"destructive\",\n                  size: \"icon\",\n                  onClick: () => handleRemoveItem(index),\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                variant: \"outline\",\n                onClick: handleAddItem,\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"w-4 h-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this), \" Add Item\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"scheduled_delivery\",\n                  children: \"Scheduled Delivery Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"scheduled_delivery\",\n                  type: \"date\",\n                  value: formData.scheduled_delivery,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    scheduled_delivery: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"delivery_notes\",\n                  children: \"Delivery Notes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                  id: \"delivery_notes\",\n                  placeholder: \"Any special instructions for delivery...\",\n                  value: formData.delivery_notes,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    delivery_notes: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                size: \"lg\",\n                className: \"bg-gradient-to-r from-blue-600 to-orange-600 hover:from-blue-700 hover:to-orange-700 shadow-lg\",\n                disabled: createDonationMutation.isLoading,\n                children: [createDonationMutation.isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-5 h-5 mr-2 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Gift, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this), \"Create Donation\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateDonation, \"k2tpi3xZVTjOkNzNv6vwudAzNJc=\", false, function () {\n  return [useNavigate, useQueryClient, useQuery, useMutation];\n});\n_c = CreateDonation;\nvar _c;\n$RefreshReg$(_c, \"CreateDonation\");","map":{"version":3,"names":["React","useState","useContext","useMutation","useQuery","useQueryClient","apiClient","AuthContext","useNavigate","createPageUrl","Card","CardContent","CardHeader","CardTitle","Input","Button","Label","Textarea","Select","SelectItem","Plus","Trash2","Gift","Loader2","jsxDEV","_jsxDEV","CreateDonation","_s","navigate","queryClient","user","formData","setFormData","receiver_id","donation_type","amount","items","name","quantity","category","delivery_notes","scheduled_delivery","data","verifiedReceivers","queryKey","queryFn","get","feedback","setFeedback","type","message","createDonationMutation","mutationFn","donationData","post","onMutate","onSuccess","invalidateQueries","setTimeout","state","flash","replace","onError","error","_error$response","_error$response$data","_error$response2","_error$response2$data","msg","response","handleAddItem","prev","handleRemoveItem","index","filter","_","i","handleItemChange","field","value","newItems","map","item","handleSubmit","e","preventDefault","console","log","finalData","parseFloat","mutate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","noValidate","htmlFor","id","onChange","target","disabled","r","_id","full_name","address","placeholder","variant","size","onClick","isLoading","_c","$RefreshReg$"],"sources":["E:/COSWO/Frontend/src/Pages/CreateDonation.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport apiClient from \"../api/apiClient\";\r\nimport { AuthContext } from \"../context/authContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { createPageUrl } from \"../utils/utils\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"../Components/ui/card\";\r\nimport { Input } from \"../Components/ui/input\";\r\nimport { Button } from \"../Components/ui/button\";\r\nimport { Label } from \"../Components/ui/label\";\r\nimport { Textarea } from \"../Components/ui/textarea\";\r\nimport { Select, SelectItem } from \"../Components/ui/select\";\r\nimport { Plus, Trash2, Gift, Loader2 } from \"lucide-react\";\r\n\r\nexport default function CreateDonation() {\r\n  const navigate = useNavigate();\r\n  const queryClient = useQueryClient();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [formData, setFormData] = useState({\r\n    receiver_id: \"\",\r\n    donation_type: \"food\",\r\n    amount: \"\",\r\n    items: [{ name: \"\", quantity: 1, category: \"food\" }],\r\n    delivery_notes: \"\",\r\n    scheduled_delivery: \"\"\r\n  });\r\n  \r\n  // NEW: Fetch verified receivers from your backend\r\n  const { data: verifiedReceivers = [] } = useQuery({\r\n    queryKey: ['verifiedReceivers'],\r\n    queryFn: async () => {\r\n        const { data } = await apiClient.get('/receivers/verified');\r\n        return data;\r\n    },\r\n  });\r\n\r\n  // NEW: Use a mutation that calls your local backend\r\n  const [feedback, setFeedback] = useState({ type: '', message: '' });\r\n  const createDonationMutation = useMutation({\r\n    mutationFn: (donationData) => apiClient.post('/donations', donationData),\r\n    onMutate: () => {\r\n      setFeedback({ type: 'info', message: 'Submitting donation…' });\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: ['donorDashboard'] });\r\n      setFeedback({ type: 'success', message: 'Donation created successfully!' });\r\n      setTimeout(() => {\r\n        setFeedback({ type: '', message: '' });\r\n        navigate(createPageUrl(\"DonorDashboard\"), {\r\n          state: { flash: { type: 'success', message: 'Donation created successfully!' } },\r\n          replace: true\r\n        });\r\n      }, 800);\r\n    },\r\n    onError: (error) => {\r\n      let msg = 'Could not create donation.';\r\n      if (error.response?.data?.msg) msg = error.response.data.msg;\r\n      else if (error.response?.data?.error) msg = error.response.data.error;\r\n      setFeedback({ type: 'error', message: `Error: ${msg}` });\r\n    }\r\n  });\r\n\r\n  const handleAddItem = () => setFormData(prev => ({ ...prev, items: [...prev.items, { name: \"\", quantity: 1, category: \"food\" }] }));\r\n  const handleRemoveItem = (index) => setFormData(prev => ({ ...prev, items: prev.items.filter((_, i) => i !== index) }));\r\n  const handleItemChange = (index, field, value) => {\r\n    const newItems = formData.items.map((item, i) => i === index ? { ...item, [field]: value } : item);\r\n    setFormData(prev => ({...prev, items: newItems}));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('[CreateDonation] Submit clicked', { user, formData });\r\n    // Fallback immediate UX feedback\r\n    setFeedback({ type: 'info', message: 'Submitting donation…' });\r\n    if (!user) {\r\n      setFeedback({ type: 'error', message: 'You must be logged in to donate.' });\r\n      return;\r\n    }\r\n    if (!formData.receiver_id) {\r\n      setFeedback({ type: 'error', message: 'Please select a receiver.' });\r\n      return;\r\n    }\r\n    const finalData = {\r\n      ...formData,\r\n      amount: formData.amount ? parseFloat(formData.amount) : null,\r\n      items: formData.donation_type !== \"funds\" ? formData.items.filter(item => item.name) : [],\r\n    };\r\n    console.log('[CreateDonation] Mutating with payload', finalData);\r\n    createDonationMutation.mutate(finalData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-6 bg-gradient-to-br from-blue-50 via-white to-orange-50\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <Card className=\"backdrop-blur-sm bg-white/80 border-gray-200/80 shadow-xl\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-3 text-3xl\">\r\n              <Gift className=\"w-8 h-8 text-blue-600\" />\r\n              Create a New Donation\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {feedback.message && (\r\n              <div className={`mb-4 p-3 rounded-lg text-sm font-medium ${feedback.type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>{feedback.message}</div>\r\n            )}\r\n            <form onSubmit={handleSubmit} className=\"space-y-8\" noValidate>\r\n              {/* ...existing code... */}\r\n              <div className=\"grid md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"receiver\">Select Receiver</Label>\r\n                  <Select\r\n                    id=\"receiver\"\r\n                    onChange={e => setFormData(prev => ({ ...prev, receiver_id: e.target.value }))}\r\n                    value={formData.receiver_id}\r\n                  >\r\n                    <option value=\"\" disabled>Choose a verified receiver...</option>\r\n                    {verifiedReceivers.map(r => (\r\n                      <SelectItem key={r._id} value={r._id}>{r.full_name} - {r.address}</SelectItem>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"donation_type\">Donation Type</Label>\r\n                  <Select\r\n                    id=\"donation_type\"\r\n                    onChange={e => setFormData(prev => ({ ...prev, donation_type: e.target.value }))}\r\n                    value={formData.donation_type}\r\n                  >\r\n                    <SelectItem value=\"food\">Food</SelectItem>\r\n                    <SelectItem value=\"clothing\">Clothing</SelectItem>\r\n                    <SelectItem value=\"funds\">Funds</SelectItem>\r\n                    <SelectItem value=\"other\">Other</SelectItem>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n              {/* ...existing code... */}\r\n              {formData.donation_type === 'funds' ? (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"amount\">Amount ($)</Label>\r\n                  <Input\r\n                    id=\"amount\"\r\n                    type=\"number\"\r\n                    placeholder=\"e.g., 50.00\"\r\n                    value={formData.amount}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, amount: e.target.value }))}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  <Label>Items to Donate</Label>\r\n                  {formData.items.map((item, index) => (\r\n                    <div key={index} className=\"flex items-end gap-4 p-4 bg-gray-50 rounded-lg border\">\r\n                      <div className=\"grid grid-cols-3 gap-4 flex-1\">\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor={`item-name-${index}`} className=\"text-sm\">Item Name</Label>\r\n                          <Input id={`item-name-${index}`} value={item.name} onChange={(e) => handleItemChange(index, 'name', e.target.value)} placeholder=\"e.g., Rice Bag\" />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor={`item-quantity-${index}`} className=\"text-sm\">Quantity</Label>\r\n                          <Input id={`item-quantity-${index}`} type=\"number\" value={item.quantity} onChange={(e) => handleItemChange(index, 'quantity', e.target.value)} />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                          <Label htmlFor={`item-category-${index}`} className=\"text-sm\">Category</Label>\r\n                          <Input id={`item-category-${index}`} value={item.category} onChange={(e) => handleItemChange(index, 'category', e.target.value)} />\r\n                        </div>\r\n                      </div>\r\n                      <Button type=\"button\" variant=\"destructive\" size=\"icon\" onClick={() => handleRemoveItem(index)}>\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                  <Button type=\"button\" variant=\"outline\" onClick={handleAddItem}>\r\n                    <Plus className=\"w-4 h-4 mr-2\" /> Add Item\r\n                  </Button>\r\n                </div>\r\n              )}\r\n              {/* ...existing code... */}\r\n              <div className=\"grid md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"scheduled_delivery\">Scheduled Delivery Date</Label>\r\n                  <Input\r\n                    id=\"scheduled_delivery\"\r\n                    type=\"date\"\r\n                    value={formData.scheduled_delivery}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, scheduled_delivery: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"delivery_notes\">Delivery Notes</Label>\r\n                  <Textarea\r\n                    id=\"delivery_notes\"\r\n                    placeholder=\"Any special instructions for delivery...\"\r\n                    value={formData.delivery_notes}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, delivery_notes: e.target.value }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* ...existing code... */}\r\n              <div className=\"flex justify-end\">\r\n                <Button type=\"submit\" size=\"lg\" className=\"bg-gradient-to-r from-blue-600 to-orange-600 hover:from-blue-700 hover:to-orange-700 shadow-lg\" disabled={createDonationMutation.isLoading}>\r\n                  {createDonationMutation.isLoading ? (\r\n                    <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                  ) : (\r\n                    <Gift className=\"w-5 h-5 mr-2\" />\r\n                  )}\r\n                  Create Donation\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}