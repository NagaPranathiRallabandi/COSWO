{"ast":null,"code":"import apiClient from \"../api/apiClient\";\nexport async function getAdminStats() {\n  // Get all users\n  const {\n    data: users\n  } = await apiClient.get(\"/users\");\n  // Get all donations\n  const {\n    data: donations\n  } = await apiClient.get(\"/donations\");\n\n  // Filter users by role\n  const donors = users.filter(u => u.role === \"Donor\");\n  const batchStaff = users.filter(u => u.role === \"Batch staff\");\n\n  // Active = has logged in or created? For now, count all\n  const activeDonors = donors.length;\n  const activeBatchStaff = batchStaff.length;\n\n  // Batches to be assigned = donations with status 'pending'\n  const toBeAssigned = donations.filter(d => d.status === \"pending\").length;\n  // Delivered = 'delivered' or 'confirmed'\n  const delivered = donations.filter(d => d.status === \"delivered\" || d.status === \"confirmed\").length;\n  // Ongoing = 'in_transit'\n  const ongoing = donations.filter(d => d.status === \"in_transit\").length;\n  return {\n    activeDonors,\n    activeBatchStaff,\n    toBeAssigned,\n    delivered,\n    ongoing\n  };\n}\nexport async function getUsersByRole(role) {\n  const {\n    data: users\n  } = await apiClient.get(\"/users\");\n  return users.filter(u => u.role === role);\n}","map":{"version":3,"names":["apiClient","getAdminStats","data","users","get","donations","donors","filter","u","role","batchStaff","activeDonors","length","activeBatchStaff","toBeAssigned","d","status","delivered","ongoing","getUsersByRole"],"sources":["E:/COSWO/Frontend/src/api/adminApi.js"],"sourcesContent":["import apiClient from \"../api/apiClient\";\r\n\r\nexport async function getAdminStats() {\r\n  // Get all users\r\n  const { data: users } = await apiClient.get(\"/users\");\r\n  // Get all donations\r\n  const { data: donations } = await apiClient.get(\"/donations\");\r\n\r\n  // Filter users by role\r\n  const donors = users.filter(u => u.role === \"Donor\");\r\n  const batchStaff = users.filter(u => u.role === \"Batch staff\");\r\n\r\n  // Active = has logged in or created? For now, count all\r\n  const activeDonors = donors.length;\r\n  const activeBatchStaff = batchStaff.length;\r\n\r\n  // Batches to be assigned = donations with status 'pending'\r\n  const toBeAssigned = donations.filter(d => d.status === \"pending\").length;\r\n  // Delivered = 'delivered' or 'confirmed'\r\n  const delivered = donations.filter(d => d.status === \"delivered\" || d.status === \"confirmed\").length;\r\n  // Ongoing = 'in_transit'\r\n  const ongoing = donations.filter(d => d.status === \"in_transit\").length;\r\n\r\n  return {\r\n    activeDonors,\r\n    activeBatchStaff,\r\n    toBeAssigned,\r\n    delivered,\r\n    ongoing,\r\n  };\r\n}\r\n\r\nexport async function getUsersByRole(role) {\r\n  const { data: users } = await apiClient.get(\"/users\");\r\n  return users.filter(u => u.role === role);\r\n}\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,kBAAkB;AAExC,OAAO,eAAeC,aAAaA,CAAA,EAAG;EACpC;EACA,MAAM;IAAEC,IAAI,EAAEC;EAAM,CAAC,GAAG,MAAMH,SAAS,CAACI,GAAG,CAAC,QAAQ,CAAC;EACrD;EACA,MAAM;IAAEF,IAAI,EAAEG;EAAU,CAAC,GAAG,MAAML,SAAS,CAACI,GAAG,CAAC,YAAY,CAAC;;EAE7D;EACA,MAAME,MAAM,GAAGH,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,CAAC;EACpD,MAAMC,UAAU,GAAGP,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,aAAa,CAAC;;EAE9D;EACA,MAAME,YAAY,GAAGL,MAAM,CAACM,MAAM;EAClC,MAAMC,gBAAgB,GAAGH,UAAU,CAACE,MAAM;;EAE1C;EACA,MAAME,YAAY,GAAGT,SAAS,CAACE,MAAM,CAACQ,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,SAAS,CAAC,CAACJ,MAAM;EACzE;EACA,MAAMK,SAAS,GAAGZ,SAAS,CAACE,MAAM,CAACQ,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,WAAW,IAAID,CAAC,CAACC,MAAM,KAAK,WAAW,CAAC,CAACJ,MAAM;EACpG;EACA,MAAMM,OAAO,GAAGb,SAAS,CAACE,MAAM,CAACQ,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,YAAY,CAAC,CAACJ,MAAM;EAEvE,OAAO;IACLD,YAAY;IACZE,gBAAgB;IAChBC,YAAY;IACZG,SAAS;IACTC;EACF,CAAC;AACH;AAEA,OAAO,eAAeC,cAAcA,CAACV,IAAI,EAAE;EACzC,MAAM;IAAEP,IAAI,EAAEC;EAAM,CAAC,GAAG,MAAMH,SAAS,CAACI,GAAG,CAAC,QAAQ,CAAC;EACrD,OAAOD,KAAK,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKA,IAAI,CAAC;AAC3C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}